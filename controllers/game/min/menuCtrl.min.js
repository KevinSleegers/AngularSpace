angular.module("app.menu").controller("MenuCtrl",function(e,a,r,n){var s="https://spacebattalion.firebaseio.com",i=new Firebase(s+"/games");e.games=r(i).$asArray(),e.createGame=function(){var a=n(20);e.games.$add({time:Firebase.ServerValue.TIMESTAMP,players:0}),e.joinGame(a)},e.joinGame=function(a){var n=new Firebase(s+"/players");e.players=r(n).$asArray(),e.players.$add({status:"game",game:a,time:Firebase.ServerValue.TIMESTAMP});var i,n=new Firebase(s+"/games/"+a+"/players");n.transaction(function(e){return i=e,(e||0)+1}),null==i&&(i=0),i+=1,console.log("You have joined game with id: "+a+"\n Current players: "+i+" / 4")}});